{% extends '@Api/base.html.twig' %}

{% block body %}
    <div class="container">
        <h1>Documentation API</h1>
        <h2>Ressources</h2>
        Pour le moment il n'est possible d'accéder qu'a la ressource users à l'adresse <code>{{ app.request.getSchemeAndHttpHost() ~ path('api_users_index') }}</code><br/>avec une clé.

        <h2>Paramètres</h2>
        <table class="table">
            <thead>
                <tr>
                    <th>nom</th>
                    <th>descriptif</th>
                    <th>exemple</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>key (obligatoire)</td>
                    <td>Votre clé d'api</td>
                    <td><code>/api/users?key=[key]</code><br/>permet d'accéder à la ressource <b>users</b></td>
                </tr>
                <tr>
                    <td>id</td>
                    <td>id d'un utilisateur</td>
                    <td><code>/api/users?key=[key]&id=2</code><br/>retourne l'utilisateur ayant l'ID <b>2</b></td>
                </tr>
                <tr>
                    <td>username</td>
                    <td>Pseudo de l'utilisateur</td>
                    <td><code>/api/users?key=[key]&username=toto</code><br/>retourne l'utilisateur ayant pour pseudo <b>toto</b> </td>
                </tr>
                <tr>
                    <td>elo</td>
                    <td>Elo de l'utilisateur</td>
                    <td><code>/api/users?key=[key]&elo=1200</code><br/>retourne tous les utilisateurs ayant <b>1200</b> d'elo</td>
                </tr>
                <tr>
                    <td>rank</td>
                    <td>Grade de l'utilisateur</td>
                    <td><code>/api/users?key=[key]&rank=silver</code><br/>retourne tous les utilisateurs ayant le grade <b>argent</b></td>
                </tr>
                <tr>
                    <td> </td>
                    <td> </td>
                    <td> </td>
                </tr>
                <tr>
                    <td>orderBy</td>
                    <td>Ordonne les résultats</td>
                    <td><code>/api/users?key=[key]&rank=silver&orderBy=elo-desc</code><br/>ordonne la requête du dessus par elo décroissant</td>
                </tr>
                <tr>
                    <td>limit</td>
                    <td>Limite les résultats</td>
                    <td><code>/api/users?key=[key]&rank=silver&orderBy=elo-desc&limit=5</code><br/>retourne les 5 premiers utilisateurs ayant le grade <b>argent</b></td>
                </tr>
                <tr>
                    <td>offset</td>
                    <td><i>A utiliser avec limit.</i><br/>Décale le résultat de <b>limit</b></td>
                    <td><code>/api/users?key=[key]&rank=silver&orderBy=elo-desc&limit=5&offset=10</code><br/>retourne les 5 utilisateurs ayant un grade argent compris entre le 10ème et le 15ème </td>
                </tr>
            </tbody>
        </table>
    </div>
{% endblock %}